sudo: false
language: ruby
cache: bundler
rvm: 2.3.4
script:
  - 'bundle exec rake $CHECK'
matrix:
  fast_finish: true
  allow_failures:
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
  include:
    - env: STRICT_VARIABLES="yes" CHECK="rubocop"
      bundler_args: --without testing acceptance
    - env: STRICT_VARIABLES="yes" CHECK="lint"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="validate"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="spec"
      bundler_args: --without rubocop acceptance
    - env: STRICT_VARIABLES="yes" CHECK="beaker"
      bundler_args: --without rubocop
      services: docker
      sudo: required
    - env: STRICT_VARIABLES="yes" CHECK="beaker" BEAKER_set="debian9"
      bundler_args: --without rubocop
      services: docker
      sudo: required
notifications:
  email: false
  slack:
    secure: 00zG6JMovvZ+Y/PmNsp4nyK/E+kaByn8Oc3GE+XshwAse+Tg43LgIy4uWum8Oqqh4Qfp0t3vOrFlHJMMSPdQedyKtuT4cErn0L5yhisW6YnqNsrN3ZyXnJk0H/X34xvEZboT52eYcRkyytjrhc4rbpAFzAdAL/Aekc4dYlJkrDomjuYb+5fO26LS1BfD7uAbbm1MMFnMsmkmH1znj2/gBpX3VH3G97Fwb5LSxbmxwRXKR9JfdY/7Puh8ed7KRuHhX/hpHTCL+ykTDxiRZOD/QEg/G83Z1YtNxAMzA+w63FNahOrbynIy62kRcFgiw263HMj2DsafFVDqODyP3lxBdK3JwRn1BMN8I/mMhf3iX/4OZA5MmWZbbzIRCCe/xb39MYwnlKN7gnb1kF6JikWBn9ju9KtGjfnccL7Jf3wt5hjgttLxU3KJl684UM1maUMExV2M6G9wrmTuDkI6hu/U8yM0MdIGROeHoMQWJ7XnVEecbok93Sf3lqUAJG1C7O46M7xGwftCQzPJoD1SnQTmYco1ZDJ7lgR7nCUsAwDRABpEA/4ypF2aomsgP/JLpDGAPKECRj3KP8EADSKq8DCpKiI2iD2pGeGSzIbZxdDhcPuv2CMu4bHxEOrWJ3B13hEyXca2oUX0OeCiQIsSucVH1isyyZtoTrcK+23Cb1pMmxc=
